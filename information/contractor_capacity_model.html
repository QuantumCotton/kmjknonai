<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contractor Capacity Model - Ad Budget to Hit Max Volume</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
        }
        
        .header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5em;
            color: #1e3c72;
            margin-bottom: 10px;
        }
        
        .goal-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            margin-bottom: 30px;
        }
        
        .goal-box h2 {
            font-size: 1.8em;
            margin-bottom: 20px;
        }
        
        .goal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .goal-item {
            background: rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .goal-item .number {
            font-size: 3em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .goal-item .label {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            text-align: center;
        }
        
        .card h3 {
            color: #666;
            font-size: 0.85em;
            text-transform: uppercase;
            margin-bottom: 12px;
        }
        
        .card .value {
            font-size: 2.5em;
            font-weight: bold;
            color: #1e3c72;
        }
        
        .card.green .value {
            color: #27ae60;
        }
        
        .card.blue .value {
            color: #3498db;
        }
        
        .card.gold .value {
            color: #f39c12;
        }
        
        .table-container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            margin-bottom: 30px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95em;
        }
        
        thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        th {
            padding: 15px 10px;
            text-align: left;
            font-weight: 600;
        }
        
        td {
            padding: 12px 10px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        tbody tr:hover {
            background: #f5f5f5;
        }
        
        .highlight-row {
            background: #d1f2eb !important;
            font-weight: bold;
        }
        
        .profit {
            color: #27ae60;
            font-weight: bold;
        }
        
        .cost {
            color: #e74c3c;
            font-weight: bold;
        }
        
        .info-box {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #2196f3;
        }
        
        .info-box h4 {
            color: #1976d2;
            margin-bottom: 10px;
        }
        
        .info-box p {
            color: #555;
            line-height: 1.8;
        }
        
        .weekly-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .breakdown-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
        }
        
        .breakdown-card h4 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        
        .metric-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #ddd;
        }
        
        .metric-row:last-child {
            border-bottom: none;
            padding-top: 15px;
            margin-top: 10px;
            border-top: 2px solid #667eea;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸŽ¯ Contractor Maximum Capacity Model</h1>
            <p style="font-size: 1.2em; color: #666; margin-top: 10px;">How Much Ad Spend to Hit Your Contractor's Weekly Limits</p>
        </div>
        
        <div class="goal-box">
            <h2>ðŸ“‹ Your Contractor's Weekly Capacity:</h2>
            <div class="goal-grid">
                <div class="goal-item">
                    <div class="number">1</div>
                    <div class="label">Kitchen/Week</div>
                </div>
                <div class="goal-item">
                    <div class="number">1</div>
                    <div class="label">Bathroom/Week</div>
                </div>
                <div class="goal-item">
                    <div class="number">10</div>
                    <div class="label">TV Installs/Week</div>
                </div>
                <div class="goal-item">
                    <div class="number">10</div>
                    <div class="label">Handyman Jobs/Week</div>
                </div>
            </div>
            <p style="margin-top: 25px; font-size: 1.15em; text-align: center;">
                <strong>Goal:</strong> Fill contractor to 100% capacity every single week
            </p>
        </div>
        
        <div class="summary-cards">
            <div class="card blue">
                <h3>Weekly Ad Spend Needed</h3>
                <div class="value" id="weekly-ad-spend">$0</div>
            </div>
            <div class="card green">
                <h3>Your Weekly Profit</h3>
                <div class="value" id="weekly-profit">$0</div>
            </div>
            <div class="card green">
                <h3>Your Monthly Profit</h3>
                <div class="value" id="monthly-profit">$0</div>
            </div>
            <div class="card gold">
                <h3>Your Annual Profit</h3>
                <div class="value" id="annual-profit">$0</div>
            </div>
        </div>
        
        <div class="info-box">
            <h4>ðŸ’¡ How This Works:</h4>
            <p><strong>Week 1-2:</strong> Ramp up ad spend to target levels. Start booking jobs.</p>
            <p><strong>Week 3+:</strong> Maintain consistent ad spend. Contractor stays at 100% capacity.</p>
            <p><strong>Your Job:</strong> Generate leads, close at 40%, send booked jobs to contractor.</p>
            <p><strong>Contractor's Job:</strong> Show up and do the work. Gets paid by customer.</p>
            <p><strong>Your Payment:</strong> Invoice contractor for (Ad Cost + 15% commission) per job.</p>
        </div>
        
        <div class="table-container">
            <h2 style="margin-bottom: 20px; color: #1e3c72;">ðŸ“Š Per-Service Breakdown (To Hit Weekly Targets)</h2>
            <table>
                <thead>
                    <tr>
                        <th>Service</th>
                        <th>Weekly Goal</th>
                        <th>Close Rate</th>
                        <th>Leads Needed</th>
                        <th>Clicks Needed</th>
                        <th>CPC</th>
                        <th>Weekly Ad Cost</th>
                        <th>Your 15%/Job</th>
                        <th>Weekly Commission</th>
                    </tr>
                </thead>
                <tbody id="breakdown-table">
                    <!-- Populated by JavaScript -->
                </tbody>
            </table>
        </div>
        
        <div class="table-container">
            <h2 style="margin-bottom: 20px; color: #1e3c72;">ðŸ’° Weekly Revenue Breakdown (At Full Capacity)</h2>
            <div class="weekly-breakdown">
                <div class="breakdown-card">
                    <h4>ðŸ’¸ Your Weekly Income</h4>
                    <div class="metric-row">
                        <span>Kitchen Commission</span>
                        <span class="profit" id="kitchen-commission">$0</span>
                    </div>
                    <div class="metric-row">
                        <span>Bathroom Commission</span>
                        <span class="profit" id="bathroom-commission">$0</span>
                    </div>
                    <div class="metric-row">
                        <span>TV Install Commission</span>
                        <span class="profit" id="tv-commission">$0</span>
                    </div>
                    <div class="metric-row">
                        <span>Handyman Commission</span>
                        <span class="profit" id="handyman-commission">$0</span>
                    </div>
                    <div class="metric-row">
                        <span style="font-size: 1.2em;"><strong>TOTAL Weekly Profit</strong></span>
                        <span class="profit" style="font-size: 1.3em;" id="total-commission">$0</span>
                    </div>
                </div>
                
                <div class="breakdown-card">
                    <h4>ðŸ’³ Your Weekly Ad Costs</h4>
                    <div class="metric-row">
                        <span>Kitchen Ads</span>
                        <span class="cost" id="kitchen-ad-cost">$0</span>
                    </div>
                    <div class="metric-row">
                        <span>Bathroom Ads</span>
                        <span class="cost" id="bathroom-ad-cost">$0</span>
                    </div>
                    <div class="metric-row">
                        <span>TV Install Ads</span>
                        <span class="cost" id="tv-ad-cost">$0</span>
                    </div>
                    <div class="metric-row">
                        <span>Handyman Ads</span>
                        <span class="cost" id="handyman-ad-cost">$0</span>
                    </div>
                    <div class="metric-row">
                        <span style="font-size: 1.2em;"><strong>TOTAL Ad Spend</strong></span>
                        <span class="cost" style="font-size: 1.3em;" id="total-ad-spend">$0</span>
                    </div>
                </div>
                
                <div class="breakdown-card">
                    <h4>ðŸ‘· Contractor's Weekly Revenue</h4>
                    <div class="metric-row">
                        <span>Kitchen Revenue</span>
                        <span class="profit" id="kitchen-contractor">$0</span>
                    </div>
                    <div class="metric-row">
                        <span>Bathroom Revenue</span>
                        <span class="profit" id="bathroom-contractor">$0</span>
                    </div>
                    <div class="metric-row">
                        <span>TV Install Revenue</span>
                        <span class="profit" id="tv-contractor">$0</span>
                    </div>
                    <div class="metric-row">
                        <span>Handyman Revenue</span>
                        <span class="profit" id="handyman-contractor">$0</span>
                    </div>
                    <div class="metric-row">
                        <span style="font-size: 1.2em;"><strong>Total They Keep</strong></span>
                        <span class="profit" style="font-size: 1.3em;" id="contractor-total">$0</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="info-box" style="background: #d4edda; border-color: #28a745;">
            <h4 style="color: #155724;">ðŸŽ¯ Bottom Line:</h4>
            <p style="color: #155724; font-size: 1.1em;">
                <strong>You spend <span id="final-ad-spend">$0</span>/week on ads.</strong><br>
                <strong>You make <span id="final-profit">$0</span>/week profit (ad costs reimbursed by contractor).</strong><br>
                <strong>Contractor makes <span id="final-contractor">$0</span>/week and does zero marketing.</strong><br>
                <strong>Everyone wins. Rinse and repeat every week.</strong>
            </p>
        </div>
    </div>
    
    <script>
        const services = [
            {
                name: "Kitchen Remodeling",
                weeklyGoal: 1,
                cpc: 8.76,
                cvr: 0.03,
                avgSale: 15000,
                closeRate: 0.40
            },
            {
                name: "Bathroom Remodeling",
                weeklyGoal: 1,
                cpc: 8.76,
                cvr: 0.04,
                avgSale: 8000,
                closeRate: 0.40
            },
            {
                name: "TV Installation",
                weeklyGoal: 10,
                cpc: 6.29,
                cvr: 0.10,
                avgSale: 350,
                closeRate: 0.40
            },
            {
                name: "Handyman Services",
                weeklyGoal: 10,
                cpc: 6.55,
                cvr: 0.1345,
                avgSale: 375,
                closeRate: 0.40
            }
        ];
        
        const COMMISSION_RATE = 0.15;
        
        function calculateServiceNeeds(service) {
            const jobsNeeded = service.weeklyGoal;
            
            // Leads needed (with 40% close rate)
            const leadsNeeded = jobsNeeded / service.closeRate;
            
            // Clicks needed
            const clicksNeeded = leadsNeeded / service.cvr;
            
            // Weekly ad cost
            const weeklyAdCost = clicksNeeded * service.cpc;
            
            // Your commission per job
            const commissionPerJob = service.avgSale * COMMISSION_RATE;
            
            // Weekly commission
            const weeklyCommission = commissionPerJob * jobsNeeded;
            
            // Contractor gets per job
            const contractorPerJob = service.avgSale - (weeklyAdCost / jobsNeeded) - commissionPerJob;
            const contractorWeekly = contractorPerJob * jobsNeeded;
            
            return {
                leadsNeeded: leadsNeeded.toFixed(1),
                clicksNeeded: clicksNeeded.toFixed(0),
                weeklyAdCost: weeklyAdCost.toFixed(0),
                commissionPerJob: commissionPerJob.toFixed(0),
                weeklyCommission: weeklyCommission.toFixed(0),
                contractorWeekly: contractorWeekly.toFixed(0)
            };
        }
        
        function populateTable() {
            const tbody = document.getElementById('breakdown-table');
            let totalAdSpend = 0;
            let totalCommission = 0;
            let totalContractor = 0;
            
            services.forEach(service => {
                const metrics = calculateServiceNeeds(service);
                
                totalAdSpend += parseFloat(metrics.weeklyAdCost);
                totalCommission += parseFloat(metrics.weeklyCommission);
                totalContractor += parseFloat(metrics.contractorWeekly);
                
                const row = `
                    <tr>
                        <td><strong>${service.name}</strong></td>
                        <td><strong>${service.weeklyGoal}</strong></td>
                        <td>${(service.closeRate * 100).toFixed(0)}%</td>
                        <td>${metrics.leadsNeeded}</td>
                        <td>${metrics.clicksNeeded}</td>
                        <td>$${service.cpc.toFixed(2)}</td>
                        <td class="cost">$${metrics.weeklyAdCost}</td>
                        <td class="profit">$${metrics.commissionPerJob}</td>
                        <td class="profit"><strong>$${metrics.weeklyCommission}</strong></td>
                    </tr>
                `;
                tbody.innerHTML += row;
                
                // Update breakdown cards
                const serviceName = service.name.toLowerCase().replace(' ', '-');
                if (service.name === "Kitchen Remodeling") {
                    document.getElementById('kitchen-commission').textContent = '$' + metrics.weeklyCommission;
                    document.getElementById('kitchen-ad-cost').textContent = '$' + metrics.weeklyAdCost;
                    document.getElementById('kitchen-contractor').textContent = '$' + metrics.contractorWeekly;
                } else if (service.name === "Bathroom Remodeling") {
                    document.getElementById('bathroom-commission').textContent = '$' + metrics.weeklyCommission;
                    document.getElementById('bathroom-ad-cost').textContent = '$' + metrics.weeklyAdCost;
                    document.getElementById('bathroom-contractor').textContent = '$' + metrics.contractorWeekly;
                } else if (service.name === "TV Installation") {
                    document.getElementById('tv-commission').textContent = '$' + metrics.weeklyCommission;
                    document.getElementById('tv-ad-cost').textContent = '$' + metrics.weeklyAdCost;
                    document.getElementById('tv-contractor').textContent = '$' + metrics.contractorWeekly;
                } else if (service.name === "Handyman Services") {
                    document.getElementById('handyman-commission').textContent = '$' + metrics.weeklyCommission;
                    document.getElementById('handyman-ad-cost').textContent = '$' + metrics.weeklyAdCost;
                    document.getElementById('handyman-contractor').textContent = '$' + metrics.contractorWeekly;
                }
            });
            
            // Add totals row
            const totalsRow = `
                <tr class="highlight-row">
                    <td colspan="6"><strong>WEEKLY TOTALS</strong></td>
                    <td class="cost"><strong>$${totalAdSpend.toFixed(0)}</strong></td>
                    <td colspan="1"></td>
                    <td class="profit"><strong>$${totalCommission.toFixed(0)}</strong></td>
                </tr>
            `;
            tbody.innerHTML += totalsRow;
            
            // Update summary cards
            document.getElementById('weekly-ad-spend').textContent = '$' + totalAdSpend.toFixed(0);
            document.getElementById('weekly-profit').textContent = '$' + totalCommission.toFixed(0);
            document.getElementById('monthly-profit').textContent = '$' + (totalCommission * 4.33).toFixed(0);
            document.getElementById('annual-profit').textContent = '$' + (totalCommission * 52).toFixed(0);
            
            document.getElementById('total-commission').textContent = '$' + totalCommission.toFixed(0);
            document.getElementById('total-ad-spend').textContent = '$' + totalAdSpend.toFixed(0);
            document.getElementById('contractor-total').textContent = '$' + totalContractor.toFixed(0);
            
            document.getElementById('final-ad-spend').textContent = '$' + totalAdSpend.toFixed(0);
            document.getElementById('final-profit').textContent = '$' + totalCommission.toFixed(0);
            document.getElementById('final-contractor').textContent = '$' + totalContractor.toFixed(0);
        }
        
        // Initialize
        populateTable();
    </script>
</body>
</html>
