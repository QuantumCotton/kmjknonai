<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Stuart Market Data - Profitability Analysis</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1800px;
            margin: 0 auto;
        }
        
        .header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5em;
            color: #1e3c72;
            margin-bottom: 10px;
        }
        
        .header .subtitle {
            font-size: 1.3em;
            color: #e74c3c;
            font-weight: bold;
            margin-top: 15px;
        }
        
        .alert-box {
            background: #f8d7da;
            border-left: 6px solid #dc3545;
            padding: 25px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .alert-box h2 {
            color: #721c24;
            margin-bottom: 15px;
            font-size: 1.5em;
        }
        
        .alert-box p {
            color: #721c24;
            font-size: 1.15em;
            line-height: 1.8;
            margin: 10px 0;
        }
        
        .success-box {
            background: #d4edda;
            border-left: 6px solid #28a745;
            padding: 25px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .success-box h2 {
            color: #155724;
            margin-bottom: 15px;
        }
        
        .success-box p {
            color: #155724;
            font-size: 1.1em;
            line-height: 1.6;
        }
        
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            text-align: center;
        }
        
        .card h3 {
            color: #666;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 15px;
        }
        
        .card .value {
            font-size: 2.8em;
            font-weight: bold;
            color: #1e3c72;
        }
        
        .card.green .value {
            color: #27ae60;
        }
        
        .card.red .value {
            color: #e74c3c;
        }
        
        .card.orange .value {
            color: #f39c12;
        }
        
        .table-container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            overflow-x: auto;
            margin-bottom: 30px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95em;
        }
        
        thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        th {
            padding: 15px 10px;
            text-align: left;
            font-weight: 600;
            white-space: nowrap;
        }
        
        td {
            padding: 12px 10px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        tbody tr:hover {
            background: #f5f5f5;
        }
        
        .profit-positive {
            color: #27ae60;
            font-weight: bold;
        }
        
        .profit-negative {
            color: #e74c3c;
            font-weight: bold;
        }
        
        .best-choice {
            background: #d1f2eb !important;
            border-left: 4px solid #1abc9c;
        }
        
        .viable {
            background: #d4edda !important;
        }
        
        .breakeven {
            background: #fff3cd !important;
        }
        
        .losing {
            background: #f8d7da !important;
        }
        
        .data-actual {
            font-weight: bold;
            color: #2c3e50;
        }
        
        .data-estimated {
            font-style: italic;
            color: #7f8c8d;
        }
        
        .legend {
            display: flex;
            gap: 25px;
            justify-content: center;
            margin: 25px 0;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.05em;
        }
        
        .legend-box {
            width: 35px;
            height: 22px;
            border-radius: 4px;
            border: 1px solid #ddd;
        }
        
        .cashflow-table {
            margin-top: 30px;
        }
        
        .week-dead {
            background: #f8d7da !important;
            color: #721c24;
            font-weight: bold;
        }
        
        .week-alive {
            background: #d4edda !important;
        }
        
        .formula-note {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #2196f3;
        }
        
        .formula-note h4 {
            color: #1976d2;
            margin-bottom: 10px;
        }
        
        .formula-note code {
            background: white;
            padding: 3px 8px;
            border-radius: 4px;
            color: #d32f2f;
            font-family: 'Courier New', monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ REAL STUART MARKET DATA</h1>
            <p style="font-size: 1.2em; color: #666; margin-top: 10px;">Based on YOUR Google Keyword Planner Export</p>
            <p class="subtitle">$500 Total Budget | Can You Survive Week 1?</p>
        </div>
        
        <div class="alert-box">
            <h2>‚ö†Ô∏è THE BRUTAL TRUTH</h2>
            <p><strong>‚Ä¢ Week 1 Budget:</strong> $100 (you have $500 total, but can only risk $100/week)</p>
            <p><strong>‚Ä¢ Week 2 Budget:</strong> Week 1 revenue + $100 (only if you made money!)</p>
            <p><strong>‚Ä¢ Failure Condition:</strong> If Week 1 loses money AND you get no jobs, you can't afford Week 2</p>
            <p><strong>‚Ä¢ Revenue Timing:</strong> You only get paid AFTER job completion (1-45 days depending on service)</p>
            <p><strong>‚Ä¢ The Problem:</strong> Most services LOSE money in Week 1. You need wins FAST.</p>
        </div>
        
        <div class="summary-cards">
            <div class="card">
                <h3>Keywords with Real CPC Data</h3>
                <div class="value">13</div>
            </div>
            <div class="card red">
                <h3>Services That Lose Money Week 1</h3>
                <div class="value" id="losing-count">-</div>
            </div>
            <div class="card green">
                <h3>Services That Make Money</h3>
                <div class="value" id="winning-count">-</div>
            </div>
            <div class="card orange">
                <h3>Best First-Week Service</h3>
                <div class="value" style="font-size: 1.4em;" id="best-service">-</div>
            </div>
        </div>
        
        <div class="success-box">
            <h2>‚úÖ WHAT YOUR DATA REVEALED</h2>
            <p><strong>TV Mounting Port St Lucie:</strong> CPC $4.23-$8.35 (Avg: $6.29) - LOWEST CPC!</p>
            <p><strong>Handyman Jensen Beach:</strong> CPC $3.24-$8.01 (Avg: $5.63) - Second lowest!</p>
            <p><strong>Pressure Washing Stuart:</strong> CPC $5.38-$14.09 (Avg: $9.74)</p>
            <p><strong>Handyman Stuart:</strong> 500 monthly searches, CPC $4.31-$11.64 (Avg: $8)</p>
            <p><strong>Kitchen Remodel:</strong> CPC $8.96-$28.33 (Avg: $18.65) - High CPC but BIG commissions</p>
        </div>
        
        <div class="formula-note">
            <h4>üìê How We Calculate Profitability:</h4>
            <p style="color: #555; line-height: 2;">
                <strong>1.</strong> Clicks = <code>$100 Budget √∑ CPC</code><br>
                <strong>2.</strong> Leads = <code>Clicks √ó Conversion Rate (CVR)</code><br>
                <strong>3.</strong> Jobs Won = <code>Leads √ó Close Rate</code><br>
                <strong>4.</strong> Your Revenue = <code>Jobs √ó Sale Price √ó 15% Commission</code><br>
                <strong>5.</strong> Net Profit = <code>Revenue - $100 Ad Spend</code><br>
                <strong>6.</strong> Week 2 Budget = <code>$100 + Net Profit (if positive)</code>
            </p>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-box best-choice"></div>
                <span><strong>Best Choice:</strong> Highest Week 1 profit</span>
            </div>
            <div class="legend-item">
                <div class="legend-box viable"></div>
                <span><strong>Profitable:</strong> Makes money Week 1</span>
            </div>
            <div class="legend-item">
                <div class="legend-box breakeven"></div>
                <span><strong>Breakeven:</strong> ¬±$20</span>
            </div>
            <div class="legend-item">
                <div class="legend-box losing"></div>
                <span><strong>Losing:</strong> Loses money</span>
            </div>
        </div>
        
        <div class="table-container">
            <h2 style="margin-bottom: 20px; color: #1e3c72;">üìä All Services Ranked by Week 1 Profitability ($100 Spend)</h2>
            <p style="margin-bottom: 20px; color: #666;"><strong>Bold</strong> = Real Google data | <em>Italic</em> = Estimated from industry benchmarks</p>
            <table id="main-table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Service/Keyword</th>
                        <th>CPC</th>
                        <th>Clicks</th>
                        <th>CVR</th>
                        <th>Leads</th>
                        <th>Close%</th>
                        <th>Jobs</th>
                        <th>Avg Sale</th>
                        <th>Commission</th>
                        <th>Revenue</th>
                        <th>Profit</th>
                        <th>ROI</th>
                        <th>Payback Days</th>
                        <th>Week 2 Budget</th>
                    </tr>
                </thead>
                <tbody id="table-body">
                    <!-- Populated by JavaScript -->
                </tbody>
            </table>
        </div>
        
        <div class="table-container cashflow-table">
            <h2 style="margin-bottom: 20px; color: #1e3c72;">üí∞ 4-Week Cash Flow: Best Service vs Worst Service</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                <div>
                    <h3 style="color: #27ae60; margin-bottom: 15px;">‚úÖ BEST CHOICE (Highest Profit)</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Week</th>
                                <th>Budget</th>
                                <th>Spend</th>
                                <th>Revenue</th>
                                <th>Profit</th>
                                <th>Ending</th>
                            </tr>
                        </thead>
                        <tbody id="best-cashflow">
                            <!-- Populated by JS -->
                        </tbody>
                    </table>
                </div>
                <div>
                    <h3 style="color: #e74c3c; margin-bottom: 15px;">‚ùå HANDYMAN STUART (Most Popular)</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Week</th>
                                <th>Budget</th>
                                <th>Spend</th>
                                <th>Revenue</th>
                                <th>Profit</th>
                                <th>Ending</th>
                            </tr>
                        </thead>
                        <tbody id="handyman-cashflow">
                            <!-- Populated by JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // REAL DATA from Google Keyword Planner
        const services = [
            // TV MOUNTING (REAL DATA - BEST CPC!)
            {
                name: "TV Mounting Port St Lucie",
                cpc: 6.29,  // Average of 4.23-8.35
                cvr: 0.10,  // 10% (conservative estimate for specialized service)
                closeRate: 0.35,  // 35% (high urgency service)
                avgSale: 350,
                commissionRate: 0.15,
                paybackDays: 1,  // Same-day payment typical
                dataSource: "real",
                category: "specialized"
            },
            // HANDYMAN JENSEN BEACH (REAL DATA - 2ND BEST CPC!)
            {
                name: "Handyman Jensen Beach",
                cpc: 5.63,  // Average of 3.24-8.01
                cvr: 0.1345,  // 13.45% from industry report
                closeRate: 0.30,
                avgSale: 400,
                commissionRate: 0.15,
                paybackDays: 3,
                dataSource: "real",
                category: "handyman"
            },
            // HANDYMAN STUART (REAL DATA - HIGH VOLUME)
            {
                name: "Handyman Stuart FL",
                cpc: 8.00,  // Average of 4.31-11.64
                cvr: 0.1345,
                closeRate: 0.30,
                avgSale: 400,
                commissionRate: 0.15,
                paybackDays: 3,
                dataSource: "real",
                category: "handyman"
            },
            // HANDYMAN PORT ST LUCIE (REAL DATA)
            {
                name: "Handyman Port St Lucie",
                cpc: 9.60,  // Average of 4.74-14.47
                cvr: 0.1345,
                closeRate: 0.30,
                avgSale: 400,
                commissionRate: 0.15,
                paybackDays: 3,
                dataSource: "real",
                category: "handyman"
            },
            // PRESSURE WASHING (REAL DATA)
            {
                name: "Pressure Washing Stuart FL",
                cpc: 9.74,  // Average of 5.38-14.09
                cvr: 0.11,  // 11% estimated
                closeRate: 0.28,
                avgSale: 350,
                commissionRate: 0.15,
                paybackDays: 2,
                dataSource: "real",
                category: "specialized"
            },
            // DRYWALL REPAIR (REAL DATA)
            {
                name: "Drywall Repair Stuart FL",
                cpc: 10.80,  // Average of 6.66-14.94
                cvr: 0.12,  // 12% estimated
                closeRate: 0.35,
                avgSale: 450,
                commissionRate: 0.15,
                paybackDays: 5,
                dataSource: "real",
                category: "specialized"
            },
            // BATHROOM REMODEL (REAL DATA)
            {
                name: "Bathroom Remodel Stuart FL",
                cpc: 16.08,  // Average of 6.79-25.37
                cvr: 0.0261,  // 2.61% from industry report
                closeRate: 0.25,
                avgSale: 15000,
                commissionRate: 0.15,
                paybackDays: 45,
                dataSource: "real",
                category: "remodeling"
            },
            // KITCHEN REMODEL (REAL DATA)
            {
                name: "Kitchen Remodel Stuart FL",
                cpc: 18.65,  // Average of 8.96-28.33
                cvr: 0.0261,
                closeRate: 0.25,
                avgSale: 22000,
                commissionRate: 0.15,
                paybackDays: 60,
                dataSource: "real",
                category: "remodeling"
            },
            // GARAGE FLOOR COATING (REAL DATA)
            {
                name: "Garage Floor Coating",
                cpc: 18.08,  // Average of 8.46-27.7
                cvr: 0.05,  // 5% (very niche)
                closeRate: 0.30,
                avgSale: 3500,
                commissionRate: 0.15,
                paybackDays: 14,
                dataSource: "real",
                category: "specialized"
            },
            // ESTIMATED SERVICES (Based on patterns from your data)
            {
                name: "Door Repair Stuart FL",
                cpc: 8.50,  // Estimated (high competition noted in data)
                cvr: 0.12,
                closeRate: 0.35,
                avgSale: 350,
                commissionRate: 0.15,
                paybackDays: 3,
                dataSource: "estimated",
                category: "specialized"
            },
            {
                name: "Fence Repair Stuart FL",
                cpc: 9.00,  // Estimated (high competition 100)
                cvr: 0.11,
                closeRate: 0.30,
                avgSale: 500,
                commissionRate: 0.15,
                paybackDays: 7,
                dataSource: "estimated",
                category: "specialized"
            },
            {
                name: "Gutter Cleaning Stuart",
                cpc: 8.50,  // Estimated (high competition noted)
                cvr: 0.13,
                closeRate: 0.32,
                avgSale: 250,
                commissionRate: 0.15,
                paybackDays: 2,
                dataSource: "estimated",
                category: "specialized"
            },
            {
                name: "Bathroom Repair Stuart FL",
                cpc: 9.50,
                cvr: 0.10,
                closeRate: 0.30,
                avgSale: 600,
                commissionRate: 0.15,
                paybackDays: 7,
                dataSource: "estimated",
                category: "specialized"
            },
            {
                name: "Ceiling Fan Installation",
                cpc: 7.50,
                cvr: 0.11,
                closeRate: 0.35,
                avgSale: 300,
                commissionRate: 0.15,
                paybackDays: 2,
                dataSource: "estimated",
                category: "specialized"
            },
            {
                name: "Cabinet Painting Stuart",
                cpc: 10.00,
                cvr: 0.08,
                closeRate: 0.25,
                avgSale: 2000,
                commissionRate: 0.15,
                paybackDays: 14,
                dataSource: "estimated",
                category: "specialized"
            }
        ];
        
        function calculateWeek1(service) {
            const budget = 100;
            const clicks = budget / service.cpc;
            const leads = clicks * service.cvr;
            const jobs = leads * service.closeRate;
            const commission = service.avgSale * service.commissionRate;
            const revenue = jobs * commission;
            const profit = revenue - budget;
            const roi = (profit / budget) * 100;
            const week2Budget = budget + Math.max(0, profit);
            
            return {
                clicks: clicks.toFixed(1),
                leads: leads.toFixed(2),
                jobs: jobs.toFixed(2),
                commission: commission.toFixed(0),
                revenue: revenue.toFixed(2),
                profit: profit.toFixed(2),
                roi: roi.toFixed(1),
                week2Budget: week2Budget.toFixed(2)
            };
        }
        
        function getRowClass(profit) {
            const p = parseFloat(profit);
            if (p > 20) return 'viable';
            if (p >= -20) return 'breakeven';
            return 'losing';
        }
        
        function populateTable() {
            // Calculate metrics for all services
            const results = services.map(service => ({
                service,
                metrics: calculateWeek1(service)
            }));
            
            // Sort by profit (best first)
            results.sort((a, b) => parseFloat(b.metrics.profit) - parseFloat(a.metrics.profit));
            
            const tbody = document.getElementById('table-body');
            let losingCount = 0;
            let winningCount = 0;
            
            results.forEach((result, index) => {
                const { service, metrics } = result;
                const profit = parseFloat(metrics.profit);
                
                if (profit < 0) losingCount++;
                if (profit > 0) winningCount++;
                
                const isBest = index === 0;
                const rowClass = isBest ? 'best-choice' : getRowClass(metrics.profit);
                const profitClass = profit >= 0 ? 'profit-positive' : 'profit-negative';
                const dataClass = service.dataSource === 'real' ? 'data-actual' : 'data-estimated';
                
                const row = `
                    <tr class="${rowClass}">
                        <td><strong>#${index + 1}</strong></td>
                        <td class="${dataClass}">${service.name}${isBest ? ' üèÜ' : ''}</td>
                        <td class="${dataClass}">$${service.cpc.toFixed(2)}</td>
                        <td>${metrics.clicks}</td>
                        <td>${(service.cvr * 100).toFixed(1)}%</td>
                        <td>${metrics.leads}</td>
                        <td>${(service.closeRate * 100).toFixed(0)}%</td>
                        <td>${metrics.jobs}</td>
                        <td>$${service.avgSale.toLocaleString()}</td>
                        <td>$${metrics.commission}</td>
                        <td>$${metrics.revenue}</td>
                        <td class="${profitClass}">$${metrics.profit}</td>
                        <td class="${profitClass}">${metrics.roi}%</td>
                        <td>${service.paybackDays}d</td>
                        <td>$${metrics.week2Budget}</td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
            
            document.getElementById('losing-count').textContent = losingCount;
            document.getElementById('winning-count').textContent = winningCount;
            document.getElementById('best-service').textContent = results[0].service.name.split(' ')[0] + ' ' + results[0].service.name.split(' ')[1];
            
            return results;
        }
        
        function projectCashFlow(service, targetElement) {
            let budget = 500;
            const tbody = document.getElementById(targetElement);
            
            for (let week = 1; week <= 4; week++) {
                const spend = Math.min(100, budget);
                if (spend < 100) {
                    // Can't afford to continue
                    const row = `
                        <tr class="week-dead">
                            <td><strong>Week ${week}</strong></td>
                            <td colspan="5"><strong>‚ùå BUSINESS DEAD - NOT ENOUGH BUDGET</strong></td>
                        </tr>
                    `;
                    tbody.innerHTML += row;
                    break;
                }
                
                const metrics = calculateWeek1(service);
                const revenue = parseFloat(metrics.revenue);
                const profit = parseFloat(metrics.profit);
                const ending = budget - spend + revenue;
                
                const profitClass = profit >= 0 ? 'profit-positive' : 'profit-negative';
                const rowClass = ending >= 100 ? 'week-alive' : 'week-dead';
                
                const row = `
                    <tr class="${rowClass}">
                        <td><strong>Week ${week}</strong></td>
                        <td>$${budget.toFixed(0)}</td>
                        <td>$${spend.toFixed(0)}</td>
                        <td>$${revenue}</td>
                        <td class="${profitClass}">$${profit}</td>
                        <td><strong>$${ending.toFixed(0)}</strong></td>
                    </tr>
                `;
                tbody.innerHTML += row;
                
                budget = ending;
                if (budget <= 0) break;
            }
        }
        
        // Initialize
        const results = populateTable();
        const bestService = results[0].service;
        const handymanService = services.find(s => s.name === "Handyman Stuart FL");
        
        projectCashFlow(bestService, 'best-cashflow');
        projectCashFlow(handymanService, 'handyman-cashflow');
    </script>
</body>
</html>
