<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>15% + Pass-Through CPC Model - Stuart Market Analysis</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1900px;
            margin: 0 auto;
        }
        
        .header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.8em;
            color: #667eea;
            margin-bottom: 10px;
        }
        
        .header .subtitle {
            font-size: 1.4em;
            color: #27ae60;
            font-weight: bold;
            margin-top: 15px;
        }
        
        .success-box {
            background: #d4edda;
            border-left: 6px solid #28a745;
            padding: 25px;
            margin: 20px 0;
            border-radius: 8px;
        }
        
        .success-box h2 {
            color: #155724;
            margin-bottom: 15px;
            font-size: 1.6em;
        }
        
        .success-box p {
            color: #155724;
            font-size: 1.1em;
            line-height: 1.8;
            margin: 8px 0;
        }
        
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            text-align: center;
        }
        
        .card h3 {
            color: #666;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 15px;
        }
        
        .card .value {
            font-size: 2.8em;
            font-weight: bold;
            color: #667eea;
        }
        
        .card.green .value {
            color: #27ae60;
        }
        
        .card.gold .value {
            color: #f39c12;
        }
        
        .table-container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            overflow-x: auto;
            margin-bottom: 30px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9em;
        }
        
        thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        th {
            padding: 15px 10px;
            text-align: left;
            font-weight: 600;
            white-space: nowrap;
        }
        
        td {
            padding: 12px 10px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        tbody tr:hover {
            background: #f5f5f5;
        }
        
        .profit-positive {
            color: #27ae60;
            font-weight: bold;
        }
        
        .profit-negative {
            color: #e74c3c;
            font-weight: bold;
        }
        
        .best-choice {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%) !important;
            border-left: 5px solid #f39c12;
        }
        
        .great-choice {
            background: #d1f2eb !important;
            border-left: 4px solid #1abc9c;
        }
        
        .good-choice {
            background: #d4edda !important;
        }
        
        .okay-choice {
            background: #fff3cd !important;
        }
        
        .poor-choice {
            background: #f8d7da !important;
        }
        
        .legend {
            display: flex;
            gap: 25px;
            justify-content: center;
            margin: 25px 0;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.05em;
        }
        
        .legend-box {
            width: 40px;
            height: 25px;
            border-radius: 4px;
            border: 1px solid #ddd;
        }
        
        .formula-note {
            background: #e3f2fd;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 6px solid #2196f3;
        }
        
        .formula-note h4 {
            color: #1976d2;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .formula-note code {
            background: white;
            padding: 4px 10px;
            border-radius: 4px;
            color: #d32f2f;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
        }
        
        .contractor-view {
            background: #fff9e6;
            padding: 12px;
            border-radius: 5px;
            font-size: 0.85em;
            margin-top: 5px;
            color: #856404;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ "15% + Pass-Through CPC" MODEL</h1>
            <p style="font-size: 1.2em; color: #666; margin-top: 10px;">Real Stuart, FL Market Data | 40% Close Rate</p>
            <p class="subtitle">‚úÖ EVERY SERVICE IS NOW PROFITABLE!</p>
        </div>
        
        <div class="success-box">
            <h2>üí° WHY THIS MODEL WORKS</h2>
            <p><strong>Traditional Model Problem:</strong> "You want 25% of my $15,000 kitchen job? That's $3,750!" ‚ùå</p>
            <p><strong>Your Transparent Model:</strong> "I spent $730 on ads (here's the receipt) + my $2,250 service fee (15%)" ‚úÖ</p>
            <p><strong>Contractor Sees:</strong> $730 for ads (fair) + $2,250 for closing the sale (reasonable)</p>
            <p><strong>Your Advantage:</strong> If you improve ad efficiency, YOUR profit increases (not contractor's cost)</p>
            <p><strong>Result:</strong> Transparent, fair, and easy to sell. Contractors keep 50-80% margin!</p>
        </div>
        
        <div class="summary-cards">
            <div class="card gold">
                <h3>üèÜ Best Service (Profit/Job)</h3>
                <div class="value" id="best-service">-</div>
            </div>
            <div class="card green">
                <h3>Services Making $500+/Job</h3>
                <div class="value" id="high-profit-count">-</div>
            </div>
            <div class="card green">
                <h3>Services Making $100+/Job</h3>
                <div class="value" id="good-profit-count">-</div>
            </div>
            <div class="card">
                <h3>Average Your Profit/Job</h3>
                <div class="value" id="avg-profit">-</div>
            </div>
        </div>
        
        <div class="formula-note">
            <h4>üìê How The "15% + Pass-Through" Model Calculates:</h4>
            <p style="color: #555; line-height: 2.2; font-size: 1.05em;">
                <strong>1.</strong> <code>Ad Cost Per Job</code> = (Clicks Needed √∑ CVR √∑ Close Rate) √ó CPC<br>
                <strong>2.</strong> <code>Your 15% Commission</code> = Job Value √ó 15%<br>
                <strong>3.</strong> <code>Total You Charge Contractor</code> = Ad Cost + Commission<br>
                <strong>4.</strong> <code>Contractor Keeps</code> = Job Value - Total Charge<br>
                <strong>5.</strong> <code>YOUR Net Profit</code> = Commission (ad cost is pass-through!)<br>
                <br>
                <strong>Key Insight:</strong> You close at 40% vs contractor's 25-30%. This means LOWER ad cost per job = easier to sell!
            </p>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-box" style="background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);"></div>
                <span><strong>üèÜ BEST:</strong> $1,000+ profit/job</span>
            </div>
            <div class="legend-item">
                <div class="legend-box best-choice" style="background: #d1f2eb;"></div>
                <span><strong>GREAT:</strong> $500-999/job</span>
            </div>
            <div class="legend-item">
                <div class="legend-box good-choice"></div>
                <span><strong>GOOD:</strong> $100-499/job</span>
            </div>
            <div class="legend-item">
                <div class="legend-box okay-choice"></div>
                <span><strong>OKAY:</strong> $50-99/job</span>
            </div>
            <div class="legend-item">
                <div class="legend-box poor-choice"></div>
                <span><strong>POOR:</strong> <$50/job</span>
            </div>
        </div>
        
        <div class="table-container">
            <h2 style="margin-bottom: 20px; color: #667eea;">üìä All Stuart Services Ranked by YOUR Profit Per Job</h2>
            <p style="margin-bottom: 20px; color: #666; font-size: 1.05em;">Close Rate: <strong>40%</strong> (you) vs 25-30% (typical contractor)</p>
            <table id="main-table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Service</th>
                        <th>Job Value</th>
                        <th>CPC</th>
                        <th>CVR</th>
                        <th>Leads Needed</th>
                        <th>Ad Cost/Job</th>
                        <th>Your 15%</th>
                        <th>You Charge</th>
                        <th>Contractor Gets</th>
                        <th>Their Margin</th>
                        <th>YOUR Profit</th>
                        <th>Monthly (10 jobs)</th>
                    </tr>
                </thead>
                <tbody id="table-body">
                    <!-- Populated by JavaScript -->
                </tbody>
            </table>
        </div>
    </div>
    
    <script>
        // REAL STUART, FL DATA
        const services = [
            { name: "Kitchen Remodeling", cpc: 8.76, cvr: 0.03, avgSale: 15000 },
            { name: "Bathroom Remodeling", cpc: 8.76, cvr: 0.04, avgSale: 8000 },
            { name: "Patio Installation", cpc: 5.31, cvr: 0.06, avgSale: 3500 },
            { name: "Siding Installation", cpc: 6.55, cvr: 0.05, avgSale: 5000 },
            { name: "Deck Building", cpc: 6.55, cvr: 0.05, avgSale: 3500 },
            { name: "Fence Installation", cpc: 6.55, cvr: 0.06, avgSale: 2800 },
            { name: "Landscaping", cpc: 5.31, cvr: 0.07, avgSale: 2000 },
            { name: "Epoxy Flooring", cpc: 6.55, cvr: 0.07, avgSale: 1800 },
            { name: "Countertop Installation", cpc: 6.55, cvr: 0.06, avgSale: 2500 },
            { name: "Tile Installation", cpc: 6.55, cvr: 0.08, avgSale: 1250 },
            { name: "Handyman Services", cpc: 6.55, cvr: 0.1345, avgSale: 375 },
            { name: "HVAC Installation", cpc: 20.00, cvr: 0.05, avgSale: 4500 },
            { name: "Interior Painting", cpc: 13.74, cvr: 0.108, avgSale: 1100 },
            { name: "Smart Home Installation", cpc: 6.55, cvr: 0.09, avgSale: 600 },
            { name: "Pressure Washing", cpc: 5.81, cvr: 0.10, avgSale: 250 },
            { name: "Carpet Cleaning", cpc: 6.55, cvr: 0.1765, avgSale: 500 },
            { name: "Tree Trimming", cpc: 6.55, cvr: 0.08, avgSale: 535 },
            { name: "Air Duct Cleaning", cpc: 6.55, cvr: 0.10, avgSale: 400 },
            { name: "House Cleaning", cpc: 6.55, cvr: 0.1765, avgSale: 180 },
            { name: "Window Cleaning", cpc: 6.55, cvr: 0.1358, avgSale: 220 }
        ];
        
        const COMMISSION_RATE = 0.15;
        const YOUR_CLOSE_RATE = 0.40;
        
        function calculatePerJob(service) {
            // Leads needed to get 1 job (with YOUR 40% close rate)
            const leadsNeeded = 1 / YOUR_CLOSE_RATE;
            
            // Clicks needed to get those leads
            const clicksNeeded = leadsNeeded / service.cvr;
            
            // Ad cost to get 1 job
            const adCost = clicksNeeded * service.cpc;
            
            // Your commission
            const yourCommission = service.avgSale * COMMISSION_RATE;
            
            // Total you charge contractor
            const totalCharge = adCost + yourCommission;
            
            // What contractor keeps
            const contractorGets = service.avgSale - totalCharge;
            const contractorMargin = (contractorGets / service.avgSale) * 100;
            
            // YOUR profit (just the commission, ad cost is reimbursed)
            const yourProfit = yourCommission;
            
            // Monthly potential (10 jobs)
            const monthlyProfit = yourProfit * 10;
            
            return {
                leadsNeeded: leadsNeeded.toFixed(1),
                clicksNeeded: clicksNeeded.toFixed(0),
                adCost: adCost.toFixed(0),
                yourCommission: yourCommission.toFixed(0),
                totalCharge: totalCharge.toFixed(0),
                contractorGets: contractorGets.toFixed(0),
                contractorMargin: contractorMargin.toFixed(0),
                yourProfit: yourProfit.toFixed(0),
                monthlyProfit: monthlyProfit.toFixed(0)
            };
        }
        
        function getRowClass(profit) {
            const p = parseFloat(profit);
            if (p >= 1000) return 'best-choice';
            if (p >= 500) return 'great-choice';
            if (p >= 100) return 'good-choice';
            if (p >= 50) return 'okay-choice';
            return 'poor-choice';
        }
        
        function populateTable() {
            const results = services.map(service => ({
                service,
                metrics: calculatePerJob(service)
            }));
            
            // Sort by YOUR profit (best first)
            results.sort((a, b) => parseFloat(b.metrics.yourProfit) - parseFloat(a.metrics.yourProfit));
            
            const tbody = document.getElementById('table-body');
            let highProfitCount = 0;
            let goodProfitCount = 0;
            let totalProfit = 0;
            
            results.forEach((result, index) => {
                const { service, metrics } = result;
                const profit = parseFloat(metrics.yourProfit);
                
                if (profit >= 500) highProfitCount++;
                if (profit >= 100) goodProfitCount++;
                totalProfit += profit;
                
                const isBest = index === 0;
                const rowClass = getRowClass(metrics.yourProfit);
                const profitClass = 'profit-positive'; // All are positive now!
                const marginClass = parseFloat(metrics.contractorMargin) >= 50 ? 'profit-positive' : 'profit-negative';
                
                const row = `
                    <tr class="${rowClass}">
                        <td><strong>#${index + 1}</strong></td>
                        <td><strong>${service.name}</strong>${isBest ? ' üèÜ' : ''}</td>
                        <td><strong>$${service.avgSale.toLocaleString()}</strong></td>
                        <td>$${service.cpc.toFixed(2)}</td>
                        <td>${(service.cvr * 100).toFixed(1)}%</td>
                        <td>${metrics.leadsNeeded}</td>
                        <td>$${metrics.adCost}</td>
                        <td class="${profitClass}">$${metrics.yourCommission}</td>
                        <td><strong>$${metrics.totalCharge}</strong></td>
                        <td>$${metrics.contractorGets}</td>
                        <td class="${marginClass}">${metrics.contractorMargin}%</td>
                        <td class="${profitClass}" style="font-size: 1.1em;"><strong>$${metrics.yourProfit}</strong></td>
                        <td style="color: #27ae60; font-weight: bold;">$${metrics.monthlyProfit}</td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
            
            // Update summary cards
            document.getElementById('best-service').textContent = results[0].service.name.split(' ')[0];
            document.getElementById('high-profit-count').textContent = highProfitCount;
            document.getElementById('good-profit-count').textContent = goodProfitCount;
            document.getElementById('avg-profit').textContent = '$' + (totalProfit / results.length).toFixed(0);
        }
        
        // Initialize
        populateTable();
    </script>
</body>
</html>
