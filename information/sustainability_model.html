<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sustainability Model - When Do You Hit Capacity?</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1800px;
            margin: 0 auto;
        }
        
        .header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5em;
            color: #1e3c72;
            margin-bottom: 10px;
        }
        
        .explanation {
            background: #fff3cd;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            border-left: 6px solid #f39c12;
        }
        
        .explanation h2 {
            color: #856404;
            margin-bottom: 15px;
        }
        
        .explanation p {
            color: #856404;
            line-height: 1.8;
            margin: 8px 0;
        }
        
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .service-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .service-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .service-header.sustainable {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
        }
        
        .service-header.unsustainable {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        }
        
        .service-header h3 {
            font-size: 1.4em;
            margin-bottom: 5px;
        }
        
        .service-body {
            padding: 25px;
        }
        
        .metric-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .metric-row:last-child {
            border-bottom: none;
        }
        
        .metric-label {
            color: #7f8c8d;
            font-size: 0.95em;
        }
        
        .metric-value {
            font-weight: 600;
            color: #2c3e50;
            font-size: 1.05em;
        }
        
        .profit-positive {
            color: #27ae60;
            font-weight: bold;
        }
        
        .profit-negative {
            color: #e74c3c;
            font-weight: bold;
        }
        
        .big-metric {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
        }
        
        .big-metric h4 {
            color: #666;
            font-size: 0.9em;
            text-transform: uppercase;
            margin-bottom: 10px;
        }
        
        .big-metric .value {
            font-size: 2.5em;
            font-weight: bold;
            color: #1e3c72;
        }
        
        .timeline {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }
        
        .timeline h4 {
            color: #1976d2;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎯 SUSTAINABILITY MODEL</h1>
            <p style="font-size: 1.2em; color: #666; margin-top: 10px;">Reinvest Until You Hit Target Capacity, Then Keep Profit</p>
        </div>
        
        <div class="explanation">
            <h2>📊 The Strategy:</h2>
            <p><strong>Phase 1 (Growth):</strong> Reinvest 100% of revenue until you hit target weekly job capacity</p>
            <p><strong>Phase 2 (Sustainability):</strong> Stop reinvesting, maintain that ad spend, keep all profit</p>
            <p><strong>Target Capacity:</strong></p>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>Handyman services: <strong>10 jobs/week</strong></li>
                <li>Specialized services: <strong>5 jobs/week</strong></li>
                <li>Remodeling (Kitchen/Bath): <strong>1 job/week</strong></li>
            </ul>
            <p style="margin-top: 15px;"><strong>Maximum Weekly Spend:</strong> $10,000 (safety cap)</p>
            <p style="margin-top: 10px;"><strong>Question Answered:</strong> Which services can reach sustainability? How long does it take? What's the ongoing profit?</p>
        </div>
        
        <div class="summary-grid" id="services-grid">
            <!-- Populated by JavaScript -->
        </div>
    </div>
    
    <script>
        const services = [
            { name: "TV Mounting PSL", cpc: 6.29, cvr: 0.10, closeRate: 0.35, avgSale: 350, targetJobs: 5, category: "Specialized" },
            { name: "Handyman Jensen Beach", cpc: 5.63, cvr: 0.1345, closeRate: 0.30, avgSale: 400, targetJobs: 10, category: "Handyman" },
            { name: "Handyman Stuart FL", cpc: 8.00, cvr: 0.1345, closeRate: 0.30, avgSale: 400, targetJobs: 10, category: "Handyman" },
            { name: "Handyman Port St Lucie", cpc: 9.60, cvr: 0.1345, closeRate: 0.30, avgSale: 400, targetJobs: 10, category: "Handyman" },
            { name: "Pressure Washing", cpc: 9.74, cvr: 0.11, closeRate: 0.28, avgSale: 350, targetJobs: 5, category: "Specialized" },
            { name: "Drywall Repair", cpc: 10.80, cvr: 0.12, closeRate: 0.35, avgSale: 450, targetJobs: 5, category: "Specialized" },
            { name: "Bathroom Remodel", cpc: 16.08, cvr: 0.0261, closeRate: 0.25, avgSale: 15000, targetJobs: 1, category: "Remodeling" },
            { name: "Kitchen Remodel", cpc: 18.65, cvr: 0.0261, closeRate: 0.25, avgSale: 22000, targetJobs: 1, category: "Remodeling" },
            { name: "Garage Floor Coating", cpc: 18.08, cvr: 0.05, closeRate: 0.30, avgSale: 3500, targetJobs: 2, category: "Specialized" }
        ];
        
        const BASE_WEEKLY = 100;
        const COMMISSION_RATE = 0.15;
        const MAX_WEEKLY_SPEND = 10000;
        const MAX_WEEKS = 100;
        
        function simulateToSustainability(service) {
            let cumulativeRevenue = 0;
            let week = 1;
            let sustainabilityWeek = null;
            let weeklySpendAtSustainability = 0;
            let jobsPerWeekAtSustainability = 0;
            let weeklyRevenueAtSustainability = 0;
            let weeklyProfitAtSustainability = 0;
            
            // Phase 1: Reinvest until we hit target jobs/week
            while (week <= MAX_WEEKS) {
                const thisWeekSpend = Math.min(BASE_WEEKLY + cumulativeRevenue, MAX_WEEKLY_SPEND);
                
                const clicks = thisWeekSpend / service.cpc;
                const leads = clicks * service.cvr;
                const jobs = leads * service.closeRate;
                const commission = service.avgSale * COMMISSION_RATE;
                const revenue = jobs * commission;
                
                // Check if we've hit target capacity
                if (jobs >= service.targetJobs && sustainabilityWeek === null) {
                    sustainabilityWeek = week;
                    weeklySpendAtSustainability = thisWeekSpend;
                    jobsPerWeekAtSustainability = jobs;
                    weeklyRevenueAtSustainability = revenue;
                    weeklyProfitAtSustainability = revenue - thisWeekSpend;
                    break;
                }
                
                cumulativeRevenue += revenue;
                week++;
                
                // Hit max spend cap and still not sustainable
                if (thisWeekSpend >= MAX_WEEKLY_SPEND && jobs < service.targetJobs) {
                    // Keep running at max spend to see if we eventually hit target
                    let cappedWeeks = 0;
                    while (cappedWeeks < 20 && week <= MAX_WEEKS) {
                        const cappedJobs = (MAX_WEEKLY_SPEND / service.cpc) * service.cvr * service.closeRate;
                        if (cappedJobs >= service.targetJobs) {
                            sustainabilityWeek = week;
                            weeklySpendAtSustainability = MAX_WEEKLY_SPEND;
                            jobsPerWeekAtSustainability = cappedJobs;
                            const cappedRevenue = cappedJobs * commission;
                            weeklyRevenueAtSustainability = cappedRevenue;
                            weeklyProfitAtSustainability = cappedRevenue - MAX_WEEKLY_SPEND;
                            break;
                        }
                        cappedWeeks++;
                        week++;
                    }
                    break;
                }
            }
            
            return {
                sustainable: sustainabilityWeek !== null,
                sustainabilityWeek,
                weeklySpendAtSustainability,
                jobsPerWeekAtSustainability,
                weeklyRevenueAtSustainability,
                weeklyProfitAtSustainability,
                annualProfitAtSustainability: weeklyProfitAtSustainability * 52
            };
        }
        
        function renderServices() {
            const grid = document.getElementById('services-grid');
            grid.innerHTML = '';
            
            services.forEach(service => {
                const result = simulateToSustainability(service);
                
                const headerClass = result.sustainable ? 'sustainable' : 'unsustainable';
                const statusEmoji = result.sustainable ? '✅' : '❌';
                const profitClass = result.weeklyProfitAtSustainability >= 0 ? 'profit-positive' : 'profit-negative';
                
                const card = `
                    <div class="service-card">
                        <div class="service-header ${headerClass}">
                            <h3>${statusEmoji} ${service.name}</h3>
                            <div style="font-size: 0.9em; opacity: 0.9; margin-top: 5px;">
                                Target: ${service.targetJobs} job${service.targetJobs > 1 ? 's' : ''}/week
                            </div>
                        </div>
                        <div class="service-body">
                            ${result.sustainable ? `
                                <div class="big-metric">
                                    <h4>Weeks to Sustainability</h4>
                                    <div class="value">${result.sustainabilityWeek}</div>
                                </div>
                                
                                <div class="metric-row">
                                    <span class="metric-label">Weekly Ad Spend</span>
                                    <span class="metric-value">$${result.weeklySpendAtSustainability.toFixed(0)}</span>
                                </div>
                                
                                <div class="metric-row">
                                    <span class="metric-label">Jobs/Week Achieved</span>
                                    <span class="metric-value">${result.jobsPerWeekAtSustainability.toFixed(1)}</span>
                                </div>
                                
                                <div class="metric-row">
                                    <span class="metric-label">Weekly Revenue</span>
                                    <span class="metric-value profit-positive">$${result.weeklyRevenueAtSustainability.toFixed(0)}</span>
                                </div>
                                
                                <div class="metric-row">
                                    <span class="metric-label">Weekly Profit</span>
                                    <span class="metric-value ${profitClass}">$${result.weeklyProfitAtSustainability.toFixed(0)}</span>
                                </div>
                                
                                <div class="timeline">
                                    <h4>💰 Annual Profit (After Sustainability)</h4>
                                    <div style="font-size: 1.8em; font-weight: bold; color: #27ae60; text-align: center; margin-top: 10px;">
                                        $${result.annualProfitAtSustainability.toFixed(0)}
                                    </div>
                                    <div style="text-align: center; color: #666; font-size: 0.9em; margin-top: 5px;">
                                        (52 weeks × $${result.weeklyProfitAtSustainability.toFixed(0)})
                                    </div>
                                </div>
                            ` : `
                                <div class="big-metric">
                                    <h4>Status</h4>
                                    <div class="value" style="color: #e74c3c; font-size: 1.8em;">NOT VIABLE</div>
                                </div>
                                
                                <div style="background: #f8d7da; padding: 15px; border-radius: 8px; color: #721c24;">
                                    <p style="margin: 5px 0;"><strong>Cannot reach ${service.targetJobs} jobs/week</strong></p>
                                    <p style="margin: 5px 0;">Even at max spend ($${MAX_WEEKLY_SPEND}/week), this service can't generate enough volume to be sustainable.</p>
                                    <p style="margin: 10px 0 5px 0; font-size: 0.9em;">
                                        At $${MAX_WEEKLY_SPEND}/week:<br>
                                        Jobs/week: ${((MAX_WEEKLY_SPEND / service.cpc) * service.cvr * service.closeRate).toFixed(1)}
                                    </p>
                                </div>
                            `}
                        </div>
                    </div>
                `;
                
                grid.innerHTML += card;
            });
        }
        
        // Initial render
        renderServices();
    </script>
</body>
</html>
